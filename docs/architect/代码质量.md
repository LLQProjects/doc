## 前言

提升代码的方法有很多：统一代码风格，命名有意义，注释，面向对象/函数式编程、测试用例、好的第三方库、合理的使用设计原则

代码质量有以下及部分组成：

* 实现业务功能：实现功能、健壮的代码
* 代码的可读性
* 代码的复杂度：可复用、可重构

提升代码质量，应该从上往下：

代码的价值在于**实现业务功能**。不能实现业务功能的代码，写的再好也没有价值。因此，代码首先要实现业务功能。

读代码是个高频操作。每次改代码前，都会读代码。同时，提升代码的可读性，成本不是很高。从投入产出的角度来看，提升代码可读性的性价比高。

最后，就是降低代码的复杂度。要降低代码的**复杂度**，需要花大量时间去做调研和设计，往往还会走一些弯路。降低复杂系统的复杂度，对团队和个人来说，都是一个挑战。因此，把这块放到最后。

## 健壮性

健壮性是指程序在遇到规范以外的输入，错误和异常时，仍能正常运行。不轻易崩溃。

不健壮的前端代码体现为：

* 接口返回异常或报错，页面白屏。

* 用户做一些非常规操作时，页面白屏

如何做？

### 异常处理

如果不做异常处理，轻则导致功能出错，重则导致白屏。分为：

###### 主动捕获运行时异常

用 try-catch 捕获同步代码错误，异步代码 用await 写法。

```js
try {
    doSth()
    await doSth()
} catch(e) {
    // 处理异常
}
```



###### 处理意料之外的全局运行时异常

未被处理的js运行时错误（包括语法错误）发生时，window会触发error事件。

```js
window.addEventListener('error',(e) => {
        // 处理异常
})
```

当一项资源（img / script）加载失败时，加载资源的元素会触发error事件。这么处理：

```js
const img = new Image();
img.addEventListener('error', (e) => {
	//  处理异常
})
img.src = 'xxx';
```



### 输入检查

### 写法优化

### 第三方库的选择

